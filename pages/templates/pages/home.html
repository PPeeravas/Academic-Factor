{% extends "base.html" %}
{% load static %}
{% block title %}Home - Academic Factor{% endblock %}
{% block content %}
  <style>
    /* 1. Carousel Styling */
    .carousel-item {
        height: 500px; /* Fixed height to prevent page jumping */
    }
    .carousel-item img {
        height: 100%;
        object-fit: cover; /* Ensures images fill the area without distortion */
        object-position: center;
    }

    /* 2. Course Button Grid */
    .course-card-btn {
        display: block;
        padding: 20px;
        font-size: 1.1rem;
        font-weight: bold;
        color: #333;
        background: #fff;
        border: 2px solid #ffc107; /* Bootstrap Warning Color */
        border-radius: 10px;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    }
    .course-card-btn:hover {
        background: #ffc107;
        color: #000;
        transform: translateY(-5px); /* Lift effect */
        box-shadow: 0 8px 15px rgba(255, 193, 7, 0.3);
    }

    /* 3. Urgency Section */
    .urgency-box {
        background: #fff3cd; /* Light yellow background */
        border-left: 5px solid #cf2e2e;
    }
    .highlight-red {
        color: #cf2e2e;
        font-weight: 800;
    }
  </style>
  <div id="heroCarousel"
       class="carousel slide shadow-sm mb-5"
       data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button"
              data-bs-target="#heroCarousel"
              data-bs-slide-to="0"
              class="active"></button>
      <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="{% static 'images/1.png' %}" class="d-block w-100" alt="Slide 1">
      </div>
      <div class="carousel-item">
        <img src="{% static 'images/2.png' %}" class="d-block w-100" alt="Slide 2">
      </div>
    </div>
    <button class="carousel-control-prev"
            type="button"
            data-bs-target="#heroCarousel"
            data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next"
            type="button"
            data-bs-target="#heroCarousel"
            data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-12 mb-4">
        <h2 class="fw-bold">เลือกคอร์สเรียนที่คุณสนใจ</h2>
      </div>
      {% for course in courses %}
        <div class="col-md-4 mb-3">
          <a href="{% url 'course_detail' course.id %}"
             class="course-card-btn text-center text-truncate d-block px-3">คอร์ส {{ course.title }}</a>
        </div>
      {% empty %}
        <div class="col-12 text-center text-muted">
          <p>ยังไม่มีคอร์สเรียนในขณะนี้</p>
        </div>
      {% endfor %}
    </div>
    <div class="row mb-5">
      <div class="col-md-10 mx-auto">
        <div class="urgency-box p-5 rounded shadow-sm text-center">
          <h3 class="mb-3">
            <span class="highlight-red">✅ DEK69</span> ตื่นได้แล้ว
            <span class="highlight-red">ปิดเทอมนี้</span> ไม่ใช่เวลาชิล
          </h3>
          <h4 class="mb-0">✅ แต่เป็นโอกาสสุดท้ายที่จะอัดให้เต็ม!</h4>
        </div>
      </div>
    </div>
    <div class="row mb-5 g-4">
      <div class="col-md-6">
        <img src="{% static 'images/image1.png' %}"
             class="img-fluid rounded shadow-sm w-100"
             alt="Promotion 1">
      </div>
      <div class="col-md-6">
        <img src="{% static 'images/image2.png' %}"
             class="img-fluid rounded shadow-sm w-100"
             alt="Promotion 2">
      </div>
    </div>
  </div>
  <div class=" text-white py-5 mt-5">
    <div class="container text-center">
      <h1 class="display-5 fw-bold mb-3 text-primary">Academic Factor</h1>
      <p class="fs-4 mb-4 text-dark">พร้อมจะเก่งขึ้นหรือยัง? สมัครเลย!</p>
      {% if not user.is_authenticated %}
        <a href="{% url 'login' %}"
           class="btn btn-primary btn-lg px-5 fw-bold  rounded-pill">เข้าสู่ระบบ</a>
        <p class = "text-dark mt-3">หรือ</p>
        <a href="{% url 'register' %}"
           class="btn btn-warning btn-lg px-5 fw-bold rounded-pill">สมัครสมาชิก</a>
      {% else %}
        <a href="{% url 'courses' %}"
           class="btn btn-warning btn-lg px-5 fw-bold rounded-pill">ดูคอร์ส</a>
      {% endif %}
    </div>
  </div>
{% endblock %}
